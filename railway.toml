[build]
builder = "nixpacks"

[deploy]
startCommand = "gunicorn --bind 0.0.0.0:$PORT --workers 1 --timeout 120 --keep-alive 60 wsgi:app"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[[services]]
name = "checkers-api"
startCommand = "python -u wsgi.py"
healthCheckPath = "/health"
healthCheckTimeoutSeconds = 30
healthCheckIntervalSeconds = 15
initialDelaySeconds = 10
port = 8080
protocol = "http"